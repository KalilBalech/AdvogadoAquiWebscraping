import smtplib
import email.message

import os

def enviar_email(content_message):

    GMAIL_PASSWORD = os.getenv("GMAIL_PASSWORD")

    instagramLogoAddress = "data:image/jpeg;base64,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"
    advogadoImage = "https://lh3.googleusercontent.com/p/AF1QipPy51c-URKtnftz29cV-lZHXe_nkrU0rMwdE7jI=s680-w680-h510"
    logoImage = "https://imgs.jusbr.com/profiles/39153615/images/620786cc-988b-4301-b977-eeab3625069c_Avatar1.jpeg"

    corpo_email = f"""
    <body style="display: flex; flex-direction: column; gap: 20px; margin: 0; padding: 20px;">
        <div style="display: flex; flex-direction: column; align-itens: center; justify-content: center; border-radius: 20px; width: fit-content; align-self; border: black 2px solid; padding: 20px; align-self: center;">
            <img src={logoImage} style="width: 100%; max-width: 300px; height: auto; align-self: center; border-radius: 20px;">
            <h1 style="text-align: center;">Atualizações do Seu Processo</h1>
            <p style="font-size: 20px; text-align: center; font-family:system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif; max-width: 600px; align-self: center; background-color: ;">{content_message}</p>
            <img src={advogadoImage} style="width: 300px; height: auto; align-self: center; border-radius: 20px;">
            
            <a href="https://www.instagram.com/picollievaz/?hl=en" style="width: 100%; display: flex; flex-direction: row; align-items: center; text-decoration: none; gap: 20px; margin: 10px;">
                <img src={instagramLogoAddress} alt="instagram icon" style="width: 50px; height: 50px;">
                <p style="align-self: center; font-size: 20px; color: black;">@picollievaz</p>
            </a>
        </div>
    </body>
    """

    msg = email.message.Message()
    msg['Subject'] = "Advogado Aqui"
    msg['From'] = 'kalilgb152@gmail.com'
    msg['To'] = 'kalilgb152@gmail.com'
    password = GMAIL_PASSWORD    
    msg.add_header('Content-Type', 'text/html')
    msg.set_payload(corpo_email )

    s = smtplib.SMTP('smtp.gmail.com: 587')
    s.starttls()
    # Login Credentials for sending the mail
    s.login(msg['From'], password)
    s.sendmail(msg['From'], [msg['To']], msg.as_string().encode('utf-8'))
    print('Email enviado')